
<%
    osm = @trans.t.osm
    misc = @trans.t.misc
    page = @trans.t.reports.frequently_used_keys_without_wiki_page
 %>

 function page_init() {
    up = function() { window.location = '/reports'; };
    create_flexigrid('grid-problematic-tags', {
        url: '/api/4/normalization/problematic_tags?',
        colModel: [
            { display: '<%= h(t.reports.problematic_tags.key)   %>',     name: 'key', width: 160, sortable: true },
            { display: '<%= h(t.reports.problematic_tags.value) %>',     name: 'value', width: 160, sortable: true },
            { display: '<%= h(t.reports.problematic_tags.count_all) %>', name: 'count_all', width: 160, sortable: true }
        ],
        searchitems: [
            { display: 'key', name: 'key' }
        ],
        sortname: 'key',
        sortorder: 'asc',
        preProcess: function(data) {
            data.rows = jQuery.map(data.data, function(row, i) {
                return { 'cell': [
                    link_to_key(row.key),
                    hover_expand(link_to_value(row.key,row.value )),
                    fmt_value(row.count_all)
                ] };
            });
            return data;
        }
    });
}
